# 《前端 JavaScript 面试技巧》笔记

-  `==` 与 `===`  
    `==` 仅用于判断对象书属性、函数参数是否存在（jQuery 源码推荐写法），其他情况全部用 `===`。
    + `if(obj.x == null){}` 等价于 `f(obj.x === null || obj.x === undefined){}`
    + `function(obj){ if(obj.x == undefined){} }`
- 原型规则
    + 所有的引用类型（对象、数组、函数，`null` 除外），都具有对象特性，即可自由扩展属性。
    + 所有的引用类型（对象、数组、函数，`null` 除外），都有一个 `__proto__` 属性（隐式原型），属性值是一个普通对象。
    + 所有的函数，都有一个 `prototype` 属性（显示原型），属性值是一个普通对象。
    + 所有的引用类型（对象、数组、函数，`null` 除外），`__proto__` 属性指向它构造函数的 `prototype` 属性。  
      `var obj = {}; obj.__proto__ === Object.prototype; // true`
    + 当视图得到一个对象的某个属性时，如果这个对象本身没有这个属性，那么回去它的 `__proto__` 中寻找。
    + <img src="./img/imooc01.png" alt="原型链" style="width:500px;">
- `new` 一个对象的过程
    + 创建一个新对象。
    + `this` 指向这个新对象。
    + 执行代码，对 `this` 赋值。
    + 返回 `this`。
- 执行上下文
    + 范围：一段 `<script>` 或者一个函数。
    + 全局：变量定义、函数声明。
    + 函数：变量定义、函数声明、`this`、`arguments`。
- `this`
    + `this` 要在执行时才能确认值，定义时无法确认。
    + 作为构造函数执行。
    + 作为对象属性执行。
    + 作为普通函数执行。
    + `call`、`apply`、`bind`。
- 作用域链
    + 没有块级作用域。
    + 当前作用域没有定义的变量，即：自由变量。
    + 作用域链是指自由变量从父级作用域获取值时形成的链条，即自由变量的查找。
    + 函数的父级作用域是它定义时的作用域，不是执行的作用域。
- 闭包
    + 使用场景：函数作为返回值；函数作为参数传递。
    + 应用场景：用于封装变量，收敛权限；  

```javascript
// key 生成器
function keyFactroy(index) {
    var _index = index ? index : 0;
    return function() {
        return _index++;
    }
}

var kf = keyFactroy();
kf(); // 0
kf(); // 1

// 判断是否首次出现，隐藏数组权限
function isFirstLoad() {
    var _list = [];
    return function(val) {
        if (_list.indexOf(val) === -1) {
            _list.push(val);
            return true;
        } else {
            return false;
        }
    }
}

var fl = isFirstLoad();
fl(1); // true
fl(1); // false
fl(2); // true
```

- 异步  
    同步会阻塞代码执行，异步不会。
    + 何时需要异步：
        * 在可能发生等待的情况。
        * 等待过程中不能像 `alert` 一样阻塞程序运行。
        * 所有的“等待的情况”都需要异步。
    + 使用异步的场景：
        * 定时任务：`setTimeout`， `setInterval`。
        * 网络请求： `ajax` 请求，动态 `<img>` 加载。
        * 事件绑定。
    
    