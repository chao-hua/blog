<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>《前端 JavaScript 面试技巧》笔记 | 慢八拍の博客</title>
    <meta name="description" content="慢八拍的私人博客，仅作为学习成果的记录与总结">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.b43ad9b6.css" as="style"><link rel="preload" href="/blog/assets/js/app.b560a9ee.js" as="script"><link rel="preload" href="/blog/assets/js/2.465c49ea.js" as="script"><link rel="preload" href="/blog/assets/js/12.cd94c2e9.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.b92c5624.js"><link rel="prefetch" href="/blog/assets/js/11.9fdd4fa0.js"><link rel="prefetch" href="/blog/assets/js/13.5b41bce2.js"><link rel="prefetch" href="/blog/assets/js/14.fa342c23.js"><link rel="prefetch" href="/blog/assets/js/15.314e9b9c.js"><link rel="prefetch" href="/blog/assets/js/16.bfb01263.js"><link rel="prefetch" href="/blog/assets/js/17.b4e3fb56.js"><link rel="prefetch" href="/blog/assets/js/18.261c3d38.js"><link rel="prefetch" href="/blog/assets/js/19.117defc3.js"><link rel="prefetch" href="/blog/assets/js/20.f52ff07d.js"><link rel="prefetch" href="/blog/assets/js/21.a2b10669.js"><link rel="prefetch" href="/blog/assets/js/22.479e926d.js"><link rel="prefetch" href="/blog/assets/js/23.dba2b62e.js"><link rel="prefetch" href="/blog/assets/js/24.d6a3bd26.js"><link rel="prefetch" href="/blog/assets/js/25.d758452b.js"><link rel="prefetch" href="/blog/assets/js/26.2252f2b9.js"><link rel="prefetch" href="/blog/assets/js/27.0a3af6d9.js"><link rel="prefetch" href="/blog/assets/js/28.10880793.js"><link rel="prefetch" href="/blog/assets/js/29.93c15754.js"><link rel="prefetch" href="/blog/assets/js/3.44856348.js"><link rel="prefetch" href="/blog/assets/js/30.2976867e.js"><link rel="prefetch" href="/blog/assets/js/31.90077d17.js"><link rel="prefetch" href="/blog/assets/js/32.5040470b.js"><link rel="prefetch" href="/blog/assets/js/33.e72166c5.js"><link rel="prefetch" href="/blog/assets/js/34.c50a7662.js"><link rel="prefetch" href="/blog/assets/js/35.b3965b29.js"><link rel="prefetch" href="/blog/assets/js/36.d98cbffe.js"><link rel="prefetch" href="/blog/assets/js/37.a1a177c3.js"><link rel="prefetch" href="/blog/assets/js/38.6d546a3a.js"><link rel="prefetch" href="/blog/assets/js/39.a6f90fe6.js"><link rel="prefetch" href="/blog/assets/js/4.903d47a9.js"><link rel="prefetch" href="/blog/assets/js/40.27446a44.js"><link rel="prefetch" href="/blog/assets/js/41.34baa793.js"><link rel="prefetch" href="/blog/assets/js/42.84ae0f85.js"><link rel="prefetch" href="/blog/assets/js/43.ae479153.js"><link rel="prefetch" href="/blog/assets/js/44.2153b298.js"><link rel="prefetch" href="/blog/assets/js/45.43705845.js"><link rel="prefetch" href="/blog/assets/js/46.516d39b1.js"><link rel="prefetch" href="/blog/assets/js/47.ebc5464a.js"><link rel="prefetch" href="/blog/assets/js/48.32c83e07.js"><link rel="prefetch" href="/blog/assets/js/49.0971dc11.js"><link rel="prefetch" href="/blog/assets/js/5.4e775f96.js"><link rel="prefetch" href="/blog/assets/js/50.32552bd3.js"><link rel="prefetch" href="/blog/assets/js/51.b01dd074.js"><link rel="prefetch" href="/blog/assets/js/52.9fda750f.js"><link rel="prefetch" href="/blog/assets/js/53.f394e7e7.js"><link rel="prefetch" href="/blog/assets/js/54.dd407329.js"><link rel="prefetch" href="/blog/assets/js/55.c153e374.js"><link rel="prefetch" href="/blog/assets/js/56.7a7d3e13.js"><link rel="prefetch" href="/blog/assets/js/57.5fd18b65.js"><link rel="prefetch" href="/blog/assets/js/58.0b98c064.js"><link rel="prefetch" href="/blog/assets/js/59.8670e5ba.js"><link rel="prefetch" href="/blog/assets/js/6.d5b6aa0e.js"><link rel="prefetch" href="/blog/assets/js/60.074ab1e7.js"><link rel="prefetch" href="/blog/assets/js/61.17f1b1f5.js"><link rel="prefetch" href="/blog/assets/js/62.320ea960.js"><link rel="prefetch" href="/blog/assets/js/63.e1d292be.js"><link rel="prefetch" href="/blog/assets/js/64.c47f0ec2.js"><link rel="prefetch" href="/blog/assets/js/65.7fc66f8b.js"><link rel="prefetch" href="/blog/assets/js/66.69883841.js"><link rel="prefetch" href="/blog/assets/js/67.a372f1fb.js"><link rel="prefetch" href="/blog/assets/js/68.34f15fc2.js"><link rel="prefetch" href="/blog/assets/js/69.79092013.js"><link rel="prefetch" href="/blog/assets/js/7.2e2c7a99.js"><link rel="prefetch" href="/blog/assets/js/70.04839a8e.js"><link rel="prefetch" href="/blog/assets/js/71.3d54ab62.js"><link rel="prefetch" href="/blog/assets/js/72.d175e94b.js"><link rel="prefetch" href="/blog/assets/js/73.d9eb411b.js"><link rel="prefetch" href="/blog/assets/js/74.2967098f.js"><link rel="prefetch" href="/blog/assets/js/75.be31a493.js"><link rel="prefetch" href="/blog/assets/js/76.3db8d08b.js"><link rel="prefetch" href="/blog/assets/js/77.794b3963.js"><link rel="prefetch" href="/blog/assets/js/78.de200e53.js"><link rel="prefetch" href="/blog/assets/js/79.6b401ba5.js"><link rel="prefetch" href="/blog/assets/js/8.925ce3f7.js"><link rel="prefetch" href="/blog/assets/js/80.afac74c2.js"><link rel="prefetch" href="/blog/assets/js/81.a949f8bc.js"><link rel="prefetch" href="/blog/assets/js/82.ffb183ad.js"><link rel="prefetch" href="/blog/assets/js/83.74c9d49b.js"><link rel="prefetch" href="/blog/assets/js/84.299ddf66.js"><link rel="prefetch" href="/blog/assets/js/85.c2d2381f.js"><link rel="prefetch" href="/blog/assets/js/9.c9fbc570.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b43ad9b6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">慢八拍の博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/js/" class="nav-link">JavaScript 笔记</a></div><div class="nav-item"><a href="/blog/css/" class="nav-link">CSS 笔记</a></div><div class="nav-item"><a href="/blog/vue/" class="nav-link">Vue 笔记</a></div><div class="nav-item"><a href="/blog/imooc/" class="nav-link router-link-active">慕课网笔记</a></div><div class="nav-item"><a href="/blog/others/" class="nav-link">杂记</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/js/" class="nav-link">JavaScript 笔记</a></div><div class="nav-item"><a href="/blog/css/" class="nav-link">CSS 笔记</a></div><div class="nav-item"><a href="/blog/vue/" class="nav-link">Vue 笔记</a></div><div class="nav-item"><a href="/blog/imooc/" class="nav-link router-link-active">慕课网笔记</a></div><div class="nav-item"><a href="/blog/others/" class="nav-link">杂记</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>慕课网笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/imooc/" class="sidebar-link">介绍</a></li><li><a href="/blog/imooc/imooc-list.html" class="sidebar-link">慕课网前端部分课程学习计划表</a></li><li><a href="/blog/imooc/css-deep-series.html" class="sidebar-link">CSS 深入理解系列</a></li><li><a href="/blog/imooc/115.html" class="active sidebar-link">《前端 JavaScript 面试技巧》笔记</a></li><li><a href="/blog/imooc/190.html" class="sidebar-link">《前端 JavaScript 高级面试》笔记</a></li><li><a href="/blog/imooc/171.html" class="sidebar-link">《四大维度解锁 Webpack 前端工程化》笔记</a></li><li><a href="/blog/imooc/175.html" class="sidebar-link">《前端面试项目冲刺，京东金融 Vue 组件化实战》笔记</a></li><li><a href="/blog/imooc/146.html" class="sidebar-link">《Node.js 入门到企业 Web 开发中的应用》笔记</a></li><li><a href="/blog/imooc/164.html" class="sidebar-link">《全面系统讲解 CSS 工作应用》笔记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="《前端-javascript-面试技巧》笔记"><a href="#《前端-javascript-面试技巧》笔记" class="header-anchor">#</a> 《前端 JavaScript 面试技巧》笔记</h1> <ul><li><code>==</code> 与 <code>===</code><br> <code>==</code> 仅用于判断对象书属性、函数参数是否存在（jQuery 源码推荐写法），其他情况全部用 <code>===</code>。
<ul><li><code>if(obj.x == null){}</code> 等价于 <code>f(obj.x === null || obj.x === undefined){}</code></li> <li><code>function(obj){ if(obj.x == undefined){} }</code></li></ul></li> <li>原型规则
<ul><li>所有的引用类型（对象、数组、函数，<code>null</code> 除外），都具有对象特性，即可自由扩展属性。</li> <li>所有的引用类型（对象、数组、函数，<code>null</code> 除外），都有一个 <code>__proto__</code> 属性（隐式原型），属性值是一个普通对象。</li> <li>所有的函数，都有一个 <code>prototype</code> 属性（显示原型），属性值是一个普通对象。</li> <li>所有的引用类型（对象、数组、函数，<code>null</code> 除外），<code>__proto__</code> 属性指向它构造函数的 <code>prototype</code> 属性。<br> <code>var obj = {}; obj.__proto__ === Object.prototype; // true</code></li> <li>当视图得到一个对象的某个属性时，如果这个对象本身没有这个属性，那么回去它的 <code>__proto__</code> 中寻找。</li> <li><img src="/blog/assets/img/imooc01.de7b9fde.png" alt="原型链" style="width:500px;"></li></ul></li> <li><code>new</code> 一个对象的过程
<ul><li>创建一个新对象。</li> <li><code>this</code> 指向这个新对象。</li> <li>执行代码，对 <code>this</code> 赋值。</li> <li>返回 <code>this</code>。</li></ul></li> <li>执行上下文
<ul><li>范围：一段 <code>&lt;script&gt;</code> 或者一个函数。</li> <li>全局：变量定义、函数声明。</li> <li>函数：变量定义、函数声明、<code>this</code>、<code>arguments</code>。</li></ul></li> <li><code>this</code> <ul><li><code>this</code> 要在执行时才能确认值，定义时无法确认。</li> <li>作为构造函数执行。</li> <li>作为对象属性执行。</li> <li>作为普通函数执行。</li> <li><code>call</code>、<code>apply</code>、<code>bind</code>。</li></ul></li> <li>作用域链
<ul><li>没有块级作用域。</li> <li>当前作用域没有定义的变量，即：自由变量。</li> <li>作用域链是指自由变量从父级作用域获取值时形成的链条，即自由变量的查找。</li> <li>函数的父级作用域是它定义时的作用域，不是执行的作用域。</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><ul><li>闭包
<ul><li>使用场景：函数作为返回值；函数作为参数传递。</li> <li>应用场景：用于封装变量，收敛权限；</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>    <span class="token comment">// key 生成器</span>
    <span class="token keyword">function</span> <span class="token function">keyFactroy</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> _index <span class="token operator">=</span> index <span class="token operator">?</span> index <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> _index<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> kf <span class="token operator">=</span> <span class="token function">keyFactroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">kf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
    <span class="token function">kf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

    <span class="token comment">// 判断是否首次出现，隐藏数组权限</span>
    <span class="token keyword">function</span> <span class="token function">isFirstLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> _list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_list<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> fl <span class="token operator">=</span> <span class="token function">isFirstLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fl</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token function">fl</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
    <span class="token function">fl</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>异步<br>
同步会阻塞代码执行，异步不会。
<ul><li>何时需要异步：
<ul><li>在可能发生等待的情况。</li> <li>等待过程中不能像 <code>alert</code> 一样阻塞程序运行。</li> <li>所有的“等待的情况”都需要异步。</li></ul></li> <li>使用异步的场景：
<ul><li>定时任务：<code>setTimeout</code>， <code>setInterval</code>。</li> <li>网络请求： <code>ajax</code> 请求，动态 <code>&lt;img&gt;</code> 加载。</li> <li>事件绑定。</li></ul></li></ul></li> <li>DOM &amp; BOM
<ul><li>DOM：Document Object Model</li> <li>浏览器把拿到的 <code>html</code> 代码，结构化一个浏览器能够识别并且 JavaScript 可操作的模型。</li> <li>BOM：Browser Object Model，常用的几个对象：
<ul><li><code>navigator</code></li> <li><code>screen</code></li> <li><code>location</code></li> <li><code>history</code></li></ul></li></ul></li> <li>事件绑定
<ul><li>事件冒泡</li> <li>事件代理</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>    <span class="token comment">// 结合代理的通用事件绑定函数</span>
    <span class="token keyword">function</span> <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token parameter">elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fn <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            fn <span class="token operator">=</span> selector<span class="token punctuation">;</span>
            selector <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> target<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>selector<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>elem<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><ul><li><code>Ajax</code> <ul><li><code>readyState</code>：
<ul><li>0：未初始化，还没有调用 <code>send()</code> 方法。</li> <li>1：载入，已调用 <code>send()</code> 方法，正在发送请求。</li> <li>2：载入完成，<code>send()</code> 方法执行完成，已经收到全部响应内容。</li> <li>3：交互，正在解析响应内容。</li> <li>4：完成，响应内容解析完成，可以在客户端调用回调函数。</li></ul></li> <li><code>status</code>：
<ul><li>2XX：成功处理请求</li> <li>3XX：需要重定向</li> <li>4XX：客户端请求错误</li> <li>5XX：服务器端错误</li></ul></li> <li>过程：</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>        <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/api'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ajax done'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ajax error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>跨域
<ul><li>浏览器有同源策略，不允许 <code>ajax</code> 访问其他域接口。</li> <li>跨域条件：协议、域名、端口中有一个不同就算跨域。</li> <li>3 个标签允许跨域加载资源（浏览器允许）
<ul><li><code>&lt;img src=&quot;&quot;&gt;</code></li> <li><code>&lt;script src=&quot;&quot;&gt;</code></li> <li><code>&lt;link href=&quot;&quot;&gt;</code></li></ul></li> <li>3 个标签允许跨域的应用
<ul><li><code>&lt;img&gt;</code> 用于打点统计，统计网站可以是其他域。</li> <li><code>&lt;script&gt;</code>、<code>&lt;link&gt;</code> 可以使用 CDN。</li> <li><code>&lt;script&gt;</code> 可以用于 <code>JSONP</code> 请求。</li></ul></li> <li><code>JSONP</code> 实现原理：
<ul><li>加载 <code>&lt;script src=&quot;http://test/api.js&quot;&gt;</code> 时，服务器不一定真正有一个 api.js 文件，服务器可以根据请求，动态生成一个文件返回。</li> <li><code>&lt;script&gt; window.callback = function(data) { console.log(data) } &lt;/script&gt;</code></li> <li><code>&lt;script src=&quot;http://test/api.js&quot;&gt;&lt;/script&gt;</code> 服务器返回 <code>callback({x:1, y:2})</code></li></ul></li> <li>解决跨域
<ul><li><code>JSONP</code></li> <li>服务器端设置 http header<br> <img src="/blog/assets/img/imooc02.731d2aab.png" alt="服务器卡与设置" style="width:500px;"></li></ul></li></ul></li> <li><code>cookie</code> <code>localStorage</code> <code>sessionStorage</code> <ul><li><code>cookie</code> <ul><li>本身用于客户端和服务器端通信。</li> <li>它的本地存储功能属于被借用。</li> <li>缺点：
<ul><li>存储量太小，只有 4KB。</li> <li>所有 http 请求都会携带，会影响效率。</li> <li>API 简陋，需要封装才能使用，<code>document.cookie = ...</code>。</li></ul></li></ul></li> <li><code>localStorage</code> 和 <code>sessionStorage</code> <ul><li>HTML5 专门为存储设计，最大容量 5M。</li> <li>API 简单易用，<code>localStorage.setItem(key,value)</code> <code>localStorage.getItem(key)</code>。</li> <li>使用时建议使用 <code>try catch</code> 封装，因为在 iOS safari 隐藏模式中， <code>localStorage.getItem</code> 会报错。</li></ul></li></ul></li> <li>模块化
<ul><li>AMD
<ul><li>require.js
<ul><li>全局 <code>define</code> 函数。</li> <li>全局 <code>require</code> 函数。</li> <li>依赖会自动、异步加载。</li></ul></li></ul></li> <li>CommonJS
<ul><li>nodejs　模块化规范，现在被大量用于前端。</li> <li>CommonJS 本身设计为非异步加载（本身用于服务器端，不存在异步获取文件），而是同步一次性加载出来。</li></ul></li></ul></li> <li>Linux 基础命令
<ul><li><code>mkdir test</code> 新建文件夹</li> <li><code>rm -rf test</code> 删除文件夹</li> <li><code>ll</code> <code>ls</code> 列表</li> <li><code>pwd</code> 查看所在目录</li> <li><code>vi test.js</code> 打开文件</li> <li><code>cp test.js test1.js</code> 复制</li> <li><code>mv test.js test/</code> 移动</li> <li><code>rm test.js</code> 删除</li> <li><code>vim test.js</code> 新建、打开文件, <code>i</code> 开始输入 Esc:w 保存 Esc:q 退出 Esc:wq 保存退出</li> <li><code>cat test.js</code> 打印出文件全部内容</li> <li><code>head test.js</code> 打印出文件前面一部分内容，可以指定行数 <code>head -n 1 test.js</code></li> <li><code>tail test.js</code> 打印出文件最后一部分内容</li> <li><code>grep 'some' test.js</code> 文件中搜索</li></ul></li> <li>页面加载
<ul><li>加载页面和资源的过程
<ul><li>浏览器根据 DNS 服务器得到域名的 IP 地址。</li> <li>浏览器向这个 IP 的服务器发送 http 请求。</li> <li>服务器收到、处理并返回 http 请求。</li> <li>浏览器得到返回值。</li></ul></li> <li>浏览器渲染页面的过程
<ul><li>根据 HTML 结构生成 DOM Tree。</li> <li>根据 CSS 生成 CSSOM。</li> <li>将 DOM Tree 和 CSSOM 整合形成 RenderTree（渲染树）。</li> <li>根据 RenderTree 开始渲染和展开。</li> <li>遇到 <code>&lt;script&gt;</code> 时，会执行并阻塞渲染。</li></ul></li> <li><code>window.onload</code> 和 <code>DOMContentLoaded</code> <ul><li><code>load</code>：页面全部资源加载完才执行，包括图片、视频等。<br> <code>window.onload = function(){...}</code> 就是 <code>window.addEventListener('load',function(){...})</code>。</li> <li><code>DOMContentLoaded</code>：DOM 渲染完即可执行，此时图片、视频等可能还没有加载完成。<br> <code>window.addEventListener('DOMContentLoaded',function(){...})</code> 就是 jQuery 中的 <code>$(document).ready(function(){...})</code> 或者 <code>$(function(){...})</code>。</li></ul></li></ul></li> <li>性能优化
<ul><li>原则
<ul><li>多使用内存、缓存或者其他方法。</li> <li>减少 CPU 计算。</li> <li>减少网络。</li></ul></li> <li>入手方向
<ul><li>加载页面和资源：
<ul><li>静态资源的合并压缩。</li> <li>非核心代码的异步加载。
<ul><li><code>defer</code>：异步加载，在 HTML 解析完之后(所有元素解析完成之后，DOMContentLoaded 事件触发之前)才执行，多个时按照加载顺序执行(浏览器实现时不能确定是顺序执行)。=》更推荐。</li> <li><code>async</code>：异步加载完后立即执行，多个时执行顺序与加载顺序无关。</li> <li><img src="/blog/assets/img/imooc07.59d63189.png" alt="defer async 对比图" style="width:500px;"></li></ul></li> <li>利用静态资源缓存 - 只有内容改变时，资源链接名称才改变。
<ul><li>缓存分类：强缓存、协商缓存。</li></ul></li> <li>使用 CDN 让资源加载更快。</li> <li>预解析 DNS。
<ul><li><code>&lt;meta http-equiv=&quot;x-dns-prefetch-control&quot; content=&quot;on&quot; /&gt;</code></li> <li><code>&lt;link rel=&quot;dns-prefetch&quot; href=&quot;http://xxxxm&quot; /&gt;</code></li></ul></li> <li>使用 SSR 后端渲染，数据直接输出到 HTML 中。</li></ul></li> <li>页面渲染：
<ul><li>CSS 放前，JS 放后。</li> <li>懒加载（图片懒加载，下拉加载更多）- 图片开始的地址是一个默认图片，等图片加载完后，在加载真正的地址。</li> <li>减少 DOM 查询，对 DOM 查询做缓存 - 循环时，尽量先缓存 DOM。
<code>var dList = document.getElementByTagName('div'); for(var i=0; i&lt;dList.length; i++){}</code></li> <li>减少 DOM 操作，多个操作尽量合并执行 - 先对片段操作，最后在一次进行 DOM 操作。<br> <code>var frag = document.createDocumentFragment(); for(...){...} trueDom.appendChild(grag)</code></li> <li>事件节流、事件防抖。<br>
节流的目的是：降低触发回调的频率，减少不必要的过多的调用。 常应用于：DOM 元素的拖拽功能实现（mousemove）；搜索联想（keyup）；页面底部自动加载更多。<br>
防抖的目的是：高频（由 wait 来确定）操作下只响应一次。 常应用于：resize、scroll、mousedown、mousemove等；文本输入的验证（keyup、keydown）。</li> <li>尽早执行操作（<code>DOMContentLoaded</code>）。</li></ul></li></ul></li></ul></li> <li>安全性
<ul><li>XSS 跨站脚本攻击
<ul><li>利用合法的渠道（留言等），向页面注入脚本。</li> <li>前端替换关键字，后端替换更好。</li></ul></li> <li>XSRF/CSRF 跨站请求伪造
<ul><li>原理：
<ul><li>在网站 A 登陆过，有 cookie 认证，B 网站引诱点击，请求 A 网站的漏洞链接。</li></ul></li> <li>防御措施：
<ul><li>Token 验证。</li> <li>Referer 验证页面来源。</li> <li>隐藏令牌，类似 Token。</li></ul></li></ul></li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">6/17/2019, 1:39:22 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/imooc/css-deep-series.html" class="prev">CSS 深入理解系列</a></span> <span class="next"><a href="/blog/imooc/190.html">《前端 JavaScript 高级面试》笔记</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.b560a9ee.js" defer></script><script src="/blog/assets/js/2.465c49ea.js" defer></script><script src="/blog/assets/js/12.cd94c2e9.js" defer></script>
  </body>
</html>
